{"ast":null,"code":"var _jsxFileName = \"/Users/haoyan/reactpro/\\u9879\\u76EE/jira\\u9879\\u76EE/fake-jira-main/src/pages/taskGroup/components/CreateEpic.tsx\",\n    _s = $RefreshSig$();\n\n/*\n * @Descripttion: 创建业务组组件\n * @Author: huangjitao\n * @Date: 2021-07-25 19:14:38\n * @Function: 该文件用途描述\n */\nimport styled from \"@emotion/styled\";\nimport { Button, Drawer, Form, Input, Spin } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport { useAddEpic } from \"api/Epic\";\nimport { ErrorBox } from \"components/FullError\";\nimport { useProjectIdInUrl } from \"pages/projectBoard/utils\";\nimport { useEffect } from \"react\";\nimport { useEpicsQueryKey } from \"../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const CreateEpic = props => {\n  _s();\n\n  const {\n    mutate: addEpic,\n    isLoading,\n    error\n  } = useAddEpic(useEpicsQueryKey());\n  const [form] = useForm();\n  const projectId = useProjectIdInUrl();\n\n  const onFinish = async values => {\n    await addEpic({ ...values,\n      projectId\n    });\n    props.onClose();\n  };\n\n  useEffect(() => {\n    form.resetFields();\n  }, [form, props.visible]);\n  return /*#__PURE__*/_jsxDEV(Drawer, {\n    visible: props.visible,\n    onClose: props.onClose,\n    forceRender: true,\n    destroyOnClose: true,\n    width: \"100%\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u521B\\u5EFA\\u4EFB\\u52A1\\u7EC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ErrorBox, {\n          error: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          form: form,\n          layout: \"vertical\",\n          style: {\n            width: \"40rem\"\n          },\n          onFinish: onFinish,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"名称\",\n            name: \"name\",\n            rules: [{\n              required: true,\n              message: \"请输入任务组名\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"请输入任务组名称\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            style: {\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              loading: isLoading,\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"\\u63D0\\u4EA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateEpic, \"531ibKGbepZAJ2EgDLW7b98vRd8=\", false, function () {\n  return [useAddEpic, useEpicsQueryKey, useForm, useProjectIdInUrl];\n});\n\n_c = CreateEpic;\nconst Container = styled.div`\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n_c2 = Container;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateEpic\");\n$RefreshReg$(_c2, \"Container\");","map":{"version":3,"sources":["/Users/haoyan/reactpro/项目/jira项目/fake-jira-main/src/pages/taskGroup/components/CreateEpic.tsx"],"names":["styled","Button","Drawer","Form","Input","Spin","useForm","useAddEpic","ErrorBox","useProjectIdInUrl","useEffect","useEpicsQueryKey","CreateEpic","props","mutate","addEpic","isLoading","error","form","projectId","onFinish","values","onClose","resetFields","visible","width","required","message","textAlign","Container","div"],"mappings":"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","sourcesContent":["/*\n * @Descripttion: 创建业务组组件\n * @Author: huangjitao\n * @Date: 2021-07-25 19:14:38\n * @Function: 该文件用途描述\n */\n\nimport styled from \"@emotion/styled\";\nimport { Button, Drawer, DrawerProps, Form, Input, Spin } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport { useAddEpic } from \"api/Epic\";\nimport { ErrorBox } from \"components/FullError\";\nimport { useProjectIdInUrl } from \"pages/projectBoard/utils\";\nimport { useEffect } from \"react\";\nimport { useEpicsQueryKey } from \"../utils\";\n\nexport const CreateEpic = (\n  props: Pick<DrawerProps, \"visible\"> & { onClose: () => void }\n) => {\n  const { mutate: addEpic, isLoading, error } = useAddEpic(useEpicsQueryKey());\n  const [form] = useForm();\n  const projectId = useProjectIdInUrl();\n\n  const onFinish = async (values: any) => {\n    await addEpic({ ...values, projectId });\n    props.onClose();\n  };\n\n  useEffect(() => {\n    form.resetFields();\n  }, [form, props.visible]);\n\n  return (\n    <Drawer\n      visible={props.visible}\n      onClose={props.onClose}\n      forceRender={true}\n      destroyOnClose={true}\n      width={\"100%\"}\n    >\n      <Container>\n        {isLoading ? (\n          <Spin size={\"large\"} />\n        ) : (\n          <>\n            <h1>创建任务组</h1>\n            <ErrorBox error={error} />\n            <Form\n              form={form}\n              layout={\"vertical\"}\n              style={{ width: \"40rem\" }}\n              onFinish={onFinish}\n            >\n              <Form.Item\n                label={\"名称\"}\n                name={\"name\"}\n                rules={[{ required: true, message: \"请输入任务组名\" }]}\n              >\n                <Input placeholder={\"请输入任务组名称\"} />\n              </Form.Item>\n\n              <Form.Item style={{ textAlign: \"right\" }}>\n                <Button\n                  loading={isLoading}\n                  type={\"primary\"}\n                  htmlType={\"submit\"}\n                >\n                  提交\n                </Button>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </Container>\n    </Drawer>\n  );\n};\n\nconst Container = styled.div`\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n"]},"metadata":{},"sourceType":"module"}