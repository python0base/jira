{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/*\n * @Descripttion: 浏览器url查询hook\n * @Author: huangjitao\n * @Date: 2021-04-26 07:33:50\n * @Function: use of this file\n */\nimport { useMemo } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { cleanObject } from \"utils\";\nexport const useSetUrlSearchParam = () => {\n  _s();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  return params => {\n    const o = cleanObject({ ...Object.fromEntries(searchParams),\n      ...params\n    });\n    return setSearchParams(o);\n  };\n};\n\n_s(useSetUrlSearchParam, \"/eCs5CB4FLGAVLeprHBYLwBGf/Q=\", false, function () {\n  return [useSearchParams];\n});\n\nconst useUrlQueryParam = keys => {\n  _s2();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const setUrlSearchParam = useSetUrlSearchParam();\n  return [useMemo(() => {\n    return keys.reduce((pre, key) => {\n      return { ...pre,\n        [key]: searchParams.get(key) || \"\"\n      };\n    }, {});\n  }, [searchParams]), params => {\n    // iterator\n    // iterator: https://codesandbox.io/s/upbeat-wood-bum3j?file=/src/index.js\n    setUrlSearchParam(params);\n  }];\n};\n\n_s2(useUrlQueryParam, \"VvAAbqXstTGQn/5fBYhVU/Lnq9Y=\", false, function () {\n  return [useSearchParams, useSetUrlSearchParam];\n});\n\nexport default useUrlQueryParam;","map":{"version":3,"sources":["/Users/haoyan/reactpro/项目/jira项目/fake-jira-main/src/utils/useUrlQueryParam.ts"],"names":["useMemo","useSearchParams","cleanObject","useSetUrlSearchParam","searchParams","setSearchParams","params","o","Object","fromEntries","useUrlQueryParam","keys","setUrlSearchParam","reduce","pre","key","get"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAA8BC,eAA9B,QAAqD,kBAArD;AACA,SAASC,WAAT,QAA4B,OAA5B;AAEA,OAAO,MAAMC,oBAAoB,GAAG,MAAM;AAAA;;AACxC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCJ,eAAe,EAAvD;AACA,SAAQK,MAAD,IAAmD;AACxD,UAAMC,CAAC,GAAGL,WAAW,CAAC,EACpB,GAAGM,MAAM,CAACC,WAAP,CAAmBL,YAAnB,CADiB;AAEpB,SAAGE;AAFiB,KAAD,CAArB;AAIA,WAAOD,eAAe,CAACE,CAAD,CAAtB;AACD,GAND;AAOD,CATM;;GAAMJ,oB;UAC6BF,e;;;AAU1C,MAAMS,gBAAgB,GAAsBC,IAAnB,IAAiC;AAAA;;AACxD,QAAM,CAACP,YAAD,EAAeC,eAAf,IAAkCJ,eAAe,EAAvD;AACA,QAAMW,iBAAiB,GAAGT,oBAAoB,EAA9C;AACA,SAAO,CACLH,OAAO,CAAC,MAAM;AACZ,WAAOW,IAAI,CAACE,MAAL,CAAY,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC/B,aAAO,EAAE,GAAGD,GAAL;AAAU,SAACC,GAAD,GAAOX,YAAY,CAACY,GAAb,CAAiBD,GAAjB,KAAyB;AAA1C,OAAP;AACD,KAFM,EAEJ,EAFI,CAAP;AAGD,GAJM,EAIJ,CAACX,YAAD,CAJI,CADF,EAMJE,MAAD,IAA8C;AAC5C;AACA;AACAM,IAAAA,iBAAiB,CAACN,MAAD,CAAjB;AACD,GAVI,CAAP;AAYD,CAfD;;IAAMI,gB;UACoCT,e,EACdE,oB;;;AAe5B,eAAeO,gBAAf","sourcesContent":["/*\n * @Descripttion: 浏览器url查询hook\n * @Author: huangjitao\n * @Date: 2021-04-26 07:33:50\n * @Function: use of this file\n */\nimport { useMemo } from \"react\";\nimport { URLSearchParamsInit, useSearchParams } from \"react-router-dom\";\nimport { cleanObject } from \"utils\";\n\nexport const useSetUrlSearchParam = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  return (params: Partial<{ [key in string]: unknown }>) => {\n    const o = cleanObject({\n      ...Object.fromEntries(searchParams),\n      ...params,\n    }) as URLSearchParamsInit;\n    return setSearchParams(o);\n  };\n};\n\nconst useUrlQueryParam = <K extends string>(keys: K[]) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const setUrlSearchParam = useSetUrlSearchParam();\n  return [\n    useMemo(() => {\n      return keys.reduce((pre, key) => {\n        return { ...pre, [key]: searchParams.get(key) || \"\" };\n      }, {} as { [key in K]: string });\n    }, [searchParams]),\n    (params: Partial<{ [key in K]: unknown }>) => {\n      // iterator\n      // iterator: https://codesandbox.io/s/upbeat-wood-bum3j?file=/src/index.js\n      setUrlSearchParam(params);\n    },\n  ] as const;\n};\n\nexport default useUrlQueryParam;\n"]},"metadata":{},"sourceType":"module"}