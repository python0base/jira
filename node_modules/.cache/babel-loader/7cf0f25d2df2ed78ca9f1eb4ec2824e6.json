{"ast":null,"code":"var _s = $RefreshSig$();\n\n/*\n * @Descripttion: 修改页面标题hook\n * @Author: huangjitao\n * @Date: 2021-04-24 10:59:44\n * @Function: keepOnUnmount--页面卸载时，title是否保持住，不变回原来的默认值\n */\nimport { useEffect, useRef } from \"react\";\nexport const useDocumentTitle = (title, keepOnUnmount = true) => {\n  _s();\n\n  // 页面原有的默认title\n  const oldTitle = useRef(document.title).current;\n  useEffect(() => {\n    // 根据组件传入的值，更改页面title\n    document.title = title;\n  }, [title]);\n  useEffect(() => {\n    // 组件卸载后，变回默认title，之后没有指定title的组件都将使用默认title\n    return () => {\n      if (!keepOnUnmount) {\n        console.log(\"卸载时的oldTitle：\", oldTitle);\n        document.title = oldTitle;\n      }\n    };\n  }, [keepOnUnmount, oldTitle]);\n};\n\n_s(useDocumentTitle, \"xdxmsjJNja2ek6Dal8Yg4TWX3qQ=\");","map":{"version":3,"sources":["/Users/haoyan/reactpro/项目/jira项目/fake-jira-main/src/utils/useDocumentTitle.ts"],"names":["useEffect","useRef","useDocumentTitle","title","keepOnUnmount","oldTitle","document","current","console","log"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAC9BC,KAD8B,EAE9BC,aAAsB,GAAG,IAFK,KAG3B;AAAA;;AACH;AACA,QAAMC,QAAQ,GAAGJ,MAAM,CAACK,QAAQ,CAACH,KAAV,CAAN,CAAuBI,OAAxC;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACd;AACAM,IAAAA,QAAQ,CAACH,KAAT,GAAiBA,KAAjB;AACD,GAHQ,EAGN,CAACA,KAAD,CAHM,CAAT;AAKAH,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,WAAO,MAAM;AACX,UAAI,CAACI,aAAL,EAAoB;AAClBI,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BJ,QAA7B;AACAC,QAAAA,QAAQ,CAACH,KAAT,GAAiBE,QAAjB;AACD;AACF,KALD;AAMD,GARQ,EAQN,CAACD,aAAD,EAAgBC,QAAhB,CARM,CAAT;AASD,CArBM;;GAAMH,gB","sourcesContent":["/*\n * @Descripttion: 修改页面标题hook\n * @Author: huangjitao\n * @Date: 2021-04-24 10:59:44\n * @Function: keepOnUnmount--页面卸载时，title是否保持住，不变回原来的默认值\n */\n\nimport { useEffect, useRef } from \"react\";\n\nexport const useDocumentTitle = (\n  title: string,\n  keepOnUnmount: boolean = true\n) => {\n  // 页面原有的默认title\n  const oldTitle = useRef(document.title).current;\n\n  useEffect(() => {\n    // 根据组件传入的值，更改页面title\n    document.title = title;\n  }, [title]);\n\n  useEffect(() => {\n    // 组件卸载后，变回默认title，之后没有指定title的组件都将使用默认title\n    return () => {\n      if (!keepOnUnmount) {\n        console.log(\"卸载时的oldTitle：\", oldTitle);\n        document.title = oldTitle;\n      }\n    };\n  }, [keepOnUnmount, oldTitle]);\n};\n"]},"metadata":{},"sourceType":"module"}