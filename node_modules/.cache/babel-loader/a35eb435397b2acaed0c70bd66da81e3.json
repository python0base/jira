{"ast":null,"code":"// @ts-nocheck\nimport React from 'react';\n\nvar getItem = function getItem(key) {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (_unused) {\n    return undefined;\n  }\n};\n\nexport default function useLocalStorage(key, defaultValue) {\n  var _React$useState = React.useState(),\n      value = _React$useState[0],\n      setValue = _React$useState[1];\n\n  React.useEffect(function () {\n    var initialValue = getItem(key);\n\n    if (typeof initialValue === 'undefined' || initialValue === null) {\n      setValue(typeof defaultValue === 'function' ? defaultValue() : defaultValue);\n    } else {\n      setValue(initialValue);\n    }\n  }, [defaultValue, key]);\n  var setter = React.useCallback(function (updater) {\n    setValue(function (old) {\n      var newVal = updater;\n\n      if (typeof updater == 'function') {\n        newVal = updater(old);\n      }\n\n      try {\n        localStorage.setItem(key, JSON.stringify(newVal));\n      } catch (_unused2) {}\n\n      return newVal;\n    });\n  }, [key]);\n  return [value, setter];\n}","map":{"version":3,"sources":["/Users/haoyan/reactpro/项目/jira项目/fake-jira-main/node_modules/react-query/es/devtools/useLocalStorage.js"],"names":["React","getItem","key","JSON","parse","localStorage","_unused","undefined","useLocalStorage","defaultValue","_React$useState","useState","value","setValue","useEffect","initialValue","setter","useCallback","updater","old","newVal","setItem","stringify","_unused2"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAClC,MAAI;AACF,WAAOC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACJ,OAAb,CAAqBC,GAArB,CAAX,CAAP;AACD,GAFD,CAEE,OAAOI,OAAP,EAAgB;AAChB,WAAOC,SAAP;AACD;AACF,CAND;;AAQA,eAAe,SAASC,eAAT,CAAyBN,GAAzB,EAA8BO,YAA9B,EAA4C;AACzD,MAAIC,eAAe,GAAGV,KAAK,CAACW,QAAN,EAAtB;AAAA,MACIC,KAAK,GAAGF,eAAe,CAAC,CAAD,CAD3B;AAAA,MAEIG,QAAQ,GAAGH,eAAe,CAAC,CAAD,CAF9B;;AAIAV,EAAAA,KAAK,CAACc,SAAN,CAAgB,YAAY;AAC1B,QAAIC,YAAY,GAAGd,OAAO,CAACC,GAAD,CAA1B;;AAEA,QAAI,OAAOa,YAAP,KAAwB,WAAxB,IAAuCA,YAAY,KAAK,IAA5D,EAAkE;AAChEF,MAAAA,QAAQ,CAAC,OAAOJ,YAAP,KAAwB,UAAxB,GAAqCA,YAAY,EAAjD,GAAsDA,YAAvD,CAAR;AACD,KAFD,MAEO;AACLI,MAAAA,QAAQ,CAACE,YAAD,CAAR;AACD;AACF,GARD,EAQG,CAACN,YAAD,EAAeP,GAAf,CARH;AASA,MAAIc,MAAM,GAAGhB,KAAK,CAACiB,WAAN,CAAkB,UAAUC,OAAV,EAAmB;AAChDL,IAAAA,QAAQ,CAAC,UAAUM,GAAV,EAAe;AACtB,UAAIC,MAAM,GAAGF,OAAb;;AAEA,UAAI,OAAOA,OAAP,IAAkB,UAAtB,EAAkC;AAChCE,QAAAA,MAAM,GAAGF,OAAO,CAACC,GAAD,CAAhB;AACD;;AAED,UAAI;AACFd,QAAAA,YAAY,CAACgB,OAAb,CAAqBnB,GAArB,EAA0BC,IAAI,CAACmB,SAAL,CAAeF,MAAf,CAA1B;AACD,OAFD,CAEE,OAAOG,QAAP,EAAiB,CAAE;;AAErB,aAAOH,MAAP;AACD,KAZO,CAAR;AAaD,GAdY,EAcV,CAAClB,GAAD,CAdU,CAAb;AAeA,SAAO,CAACU,KAAD,EAAQI,MAAR,CAAP;AACD","sourcesContent":["// @ts-nocheck\nimport React from 'react';\n\nvar getItem = function getItem(key) {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (_unused) {\n    return undefined;\n  }\n};\n\nexport default function useLocalStorage(key, defaultValue) {\n  var _React$useState = React.useState(),\n      value = _React$useState[0],\n      setValue = _React$useState[1];\n\n  React.useEffect(function () {\n    var initialValue = getItem(key);\n\n    if (typeof initialValue === 'undefined' || initialValue === null) {\n      setValue(typeof defaultValue === 'function' ? defaultValue() : defaultValue);\n    } else {\n      setValue(initialValue);\n    }\n  }, [defaultValue, key]);\n  var setter = React.useCallback(function (updater) {\n    setValue(function (old) {\n      var newVal = updater;\n\n      if (typeof updater == 'function') {\n        newVal = updater(old);\n      }\n\n      try {\n        localStorage.setItem(key, JSON.stringify(newVal));\n      } catch (_unused2) {}\n\n      return newVal;\n    });\n  }, [key]);\n  return [value, setter];\n}"]},"metadata":{},"sourceType":"module"}