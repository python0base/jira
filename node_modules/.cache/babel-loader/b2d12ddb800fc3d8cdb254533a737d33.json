{"ast":null,"code":"var _jsxFileName = \"/Users/haoyan/reactpro/\\u9879\\u76EE/jira\\u9879\\u76EE/fake-jira-main/src/pages/projectBoard/index.tsx\",\n    _s = $RefreshSig$();\n\n/*\n * @Descripttion: 任务看板\n * @Author: huangjitao\n * @Date: 2021-04-24 21:01:29\n * @Function: use of this file\n */\nimport styled from \"@emotion/styled\";\nimport { useDocumentTitle } from \"utils/useDocumentTitle\";\nimport { KanbanColumn } from \"pages/projectBoard/components/KanbanColumn\";\nimport { useDragEnd, useKanbansSearchParams, useProjectInUrl, useTasksSearchParams } from \"pages/projectBoard/utils\";\nimport { useKanbans } from \"api/Kanban\";\nimport { SearchPannel } from \"pages/projectBoard/components/SearchPannel\";\nimport { Container } from \"components\";\nimport { CreateKanban } from \"./components/CreateKanban\";\nimport { useTasks } from \"api/Task\";\nimport { Spin } from \"antd\";\nimport { EditTask } from \"./components/EditTask\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { Drag, Drop, DropChild } from \"components/DragAndDrop\";\nimport { Profiler } from \"components/Profiler\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProjectBoard = () => {\n  _s();\n\n  useDocumentTitle(\"看板列表\");\n  const {\n    data: currentProject\n  } = useProjectInUrl();\n  const {\n    data: kanbans,\n    isLoading: kanbanIsLoading\n  } = useKanbans(useKanbansSearchParams());\n  const {\n    isLoading: taskIsLoading\n  } = useTasks(useTasksSearchParams());\n  const isLoading = taskIsLoading || kanbanIsLoading;\n  const onDragEnd = useDragEnd();\n  return /*#__PURE__*/_jsxDEV(Profiler, {\n    id: \"看板页面\",\n    children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n      onDragEnd: onDragEnd,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: currentProject === null || currentProject === void 0 ? void 0 : currentProject.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchPannel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(Spin, {\n          size: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ColumnsContainer, {\n          children: [/*#__PURE__*/_jsxDEV(Drop, {\n            droppableId: \"kanban\",\n            type: \"COLUMN\",\n            direction: \"horizontal\",\n            children: /*#__PURE__*/_jsxDEV(DropChild, {\n              style: {\n                display: \"flex\"\n              },\n              children: kanbans === null || kanbans === void 0 ? void 0 : kanbans.map((kanban, index) => /*#__PURE__*/_jsxDEV(Drag, {\n                draggableId: \"kanban\" + kanban.id,\n                index: index,\n                children: /*#__PURE__*/_jsxDEV(KanbanColumn, {\n                  kanban: kanban\n                }, kanban.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 23\n                }, this)\n              }, kanban.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CreateKanban, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EditTask, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProjectBoard, \"5e8iVYxcpnU13PjCtwNihbuCLvk=\", false, function () {\n  return [useDocumentTitle, useProjectInUrl, useKanbans, useKanbansSearchParams, useTasks, useTasksSearchParams, useDragEnd];\n});\n\n_c = ProjectBoard;\nexport default ProjectBoard;\nconst ColumnsContainer = styled(\"div\")`\n  display: flex;\n  overflow-x: scroll;\n  flex: 1;\n`;\n_c2 = ColumnsContainer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProjectBoard\");\n$RefreshReg$(_c2, \"ColumnsContainer\");","map":{"version":3,"sources":["/Users/haoyan/reactpro/项目/jira项目/fake-jira-main/src/pages/projectBoard/index.tsx"],"names":["styled","useDocumentTitle","KanbanColumn","useDragEnd","useKanbansSearchParams","useProjectInUrl","useTasksSearchParams","useKanbans","SearchPannel","Container","CreateKanban","useTasks","Spin","EditTask","DragDropContext","Drag","Drop","DropChild","Profiler","ProjectBoard","data","currentProject","kanbans","isLoading","kanbanIsLoading","taskIsLoading","onDragEnd","name","display","map","kanban","index","id","ColumnsContainer"],"mappings":"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","sourcesContent":["/*\n * @Descripttion: 任务看板\n * @Author: huangjitao\n * @Date: 2021-04-24 21:01:29\n * @Function: use of this file\n */\n\nimport styled from \"@emotion/styled\";\nimport { useDocumentTitle } from \"utils/useDocumentTitle\";\nimport { KanbanColumn } from \"pages/projectBoard/components/KanbanColumn\";\nimport {\n  useDragEnd,\n  useKanbansSearchParams,\n  useProjectInUrl,\n  useTasksSearchParams,\n} from \"pages/projectBoard/utils\";\nimport { useKanbans } from \"api/Kanban\";\nimport { SearchPannel } from \"pages/projectBoard/components/SearchPannel\";\nimport { Container } from \"components\";\nimport { CreateKanban } from \"./components/CreateKanban\";\nimport { useTasks } from \"api/Task\";\nimport { Spin } from \"antd\";\nimport { EditTask } from \"./components/EditTask\";\nimport { DragDropContext, Draggable } from \"react-beautiful-dnd\";\nimport { Drag, Drop, DropChild } from \"components/DragAndDrop\";\nimport { Profiler } from \"components/Profiler\";\n\nconst ProjectBoard = () => {\n  useDocumentTitle(\"看板列表\");\n  const { data: currentProject } = useProjectInUrl();\n  const { data: kanbans, isLoading: kanbanIsLoading } = useKanbans(\n    useKanbansSearchParams()\n  );\n  const { isLoading: taskIsLoading } = useTasks(useTasksSearchParams());\n  const isLoading = taskIsLoading || kanbanIsLoading;\n\n  const onDragEnd = useDragEnd();\n\n  return (\n    <Profiler id={\"看板页面\"}>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <Container>\n          <h3>{currentProject?.name}</h3>\n          <SearchPannel />\n          {isLoading ? (\n            <Spin size={\"large\"} />\n          ) : (\n            <ColumnsContainer>\n              <Drop droppableId=\"kanban\" type=\"COLUMN\" direction=\"horizontal\">\n                <DropChild style={{ display: \"flex\" }}>\n                  {kanbans?.map((kanban, index) => (\n                    <Drag\n                      draggableId={\"kanban\" + kanban.id}\n                      index={index}\n                      key={kanban.id}\n                    >\n                      <KanbanColumn kanban={kanban} key={kanban.id} />\n                    </Drag>\n                  ))}\n                </DropChild>\n              </Drop>\n              <CreateKanban />\n            </ColumnsContainer>\n          )}\n          <EditTask />\n        </Container>\n      </DragDropContext>\n    </Profiler>\n  );\n};\n\nexport default ProjectBoard;\n\nconst ColumnsContainer = styled(\"div\")`\n  display: flex;\n  overflow-x: scroll;\n  flex: 1;\n`;\n"]},"metadata":{},"sourceType":"module"}