{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\n/*\n * @Descripttion: 任务组相关接口请求\n * @Author: huangjitao\n * @Date: 2021-07-25 19:18:32\n * @Function: 该文件用途描述\n */\nimport { useMutation, useQuery } from \"react-query\";\nimport { useHttp } from \"utils/http\";\nimport { useAddOptimistic, useDeleteOptimistic } from \"utils/useOptimistic\";\nexport const useEpics = param => {\n  _s();\n\n  const client = useHttp();\n  return useQuery([\"epics\", param], () => client(\"epics\", {\n    data: param\n  }));\n};\n\n_s(useEpics, \"IpD6RSlIJ674EvkqD5JnrnP9qQU=\", false, function () {\n  return [useHttp, useQuery];\n});\n\nexport const useAddEpic = queryKey => {\n  _s2();\n\n  const client = useHttp();\n  return useMutation(params => client(`epics`, {\n    data: params,\n    method: \"POST\"\n  }), useAddOptimistic(queryKey));\n};\n\n_s2(useAddEpic, \"x1AXE1gPgvfZi+8siR5uP2j7A4I=\", false, function () {\n  return [useHttp, useMutation, useAddOptimistic];\n});\n\nexport const useDeleteEpic = queryKey => {\n  _s3();\n\n  const client = useHttp();\n  return useMutation(({\n    id\n  }) => client(`epics/${id}`, {\n    method: \"DELETE\"\n  }), useDeleteOptimistic(queryKey));\n};\n\n_s3(useDeleteEpic, \"Nf4NEBS95gluZGLVGDGbYbkUvPg=\", false, function () {\n  return [useHttp, useMutation, useDeleteOptimistic];\n});","map":{"version":3,"sources":["/Users/haoyan/reactpro/项目/jira项目/fake-jira-main/src/api/Epic.ts"],"names":["useMutation","useQuery","useHttp","useAddOptimistic","useDeleteOptimistic","useEpics","param","client","data","useAddEpic","queryKey","params","method","useDeleteEpic","id"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAmBA,WAAnB,EAAgCC,QAAhC,QAAgD,aAAhD;AAEA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,gBAAT,EAA2BC,mBAA3B,QAAsD,qBAAtD;AAEA,OAAO,MAAMC,QAAQ,GAAIC,KAAD,IAA2B;AAAA;;AACjD,QAAMC,MAAM,GAAGL,OAAO,EAAtB;AAEA,SAAOD,QAAQ,CAAS,CAAC,OAAD,EAAUK,KAAV,CAAT,EAA2B,MACxCC,MAAM,CAAC,OAAD,EAAU;AAAEC,IAAAA,IAAI,EAAEF;AAAR,GAAV,CADO,CAAf;AAGD,CANM;;GAAMD,Q;UACIH,O,EAERD,Q;;;AAKT,OAAO,MAAMQ,UAAU,GAAIC,QAAD,IAAwB;AAAA;;AAChD,QAAMH,MAAM,GAAGL,OAAO,EAAtB;AAEA,SAAOF,WAAW,CACfW,MAAD,IACEJ,MAAM,CAAE,OAAF,EAAU;AACdC,IAAAA,IAAI,EAAEG,MADQ;AAEdC,IAAAA,MAAM,EAAE;AAFM,GAAV,CAFQ,EAMhBT,gBAAgB,CAACO,QAAD,CANA,CAAlB;AAQD,CAXM;;IAAMD,U;UACIP,O,EAERF,W,EAMLG,gB;;;AAIJ,OAAO,MAAMU,aAAa,GAAIH,QAAD,IAAwB;AAAA;;AACnD,QAAMH,MAAM,GAAGL,OAAO,EAAtB;AAEA,SAAOF,WAAW,CAChB,CAAC;AAAEc,IAAAA;AAAF,GAAD,KACEP,MAAM,CAAE,SAAQO,EAAG,EAAb,EAAgB;AACpBF,IAAAA,MAAM,EAAE;AADY,GAAhB,CAFQ,EAKhBR,mBAAmB,CAACM,QAAD,CALH,CAAlB;AAOD,CAVM;;IAAMG,a;UACIX,O,EAERF,W,EAKLI,mB","sourcesContent":["/*\n * @Descripttion: 任务组相关接口请求\n * @Author: huangjitao\n * @Date: 2021-07-25 19:18:32\n * @Function: 该文件用途描述\n */\n\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { Epic } from \"types/Epic\";\nimport { useHttp } from \"utils/http\";\nimport { useAddOptimistic, useDeleteOptimistic } from \"utils/useOptimistic\";\n\nexport const useEpics = (param?: Partial<Epic>) => {\n  const client = useHttp();\n\n  return useQuery<Epic[]>([\"epics\", param], () =>\n    client(\"epics\", { data: param })\n  );\n};\n\nexport const useAddEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    (params: Partial<Epic>) =>\n      client(`epics`, {\n        data: params,\n        method: \"POST\",\n      }),\n    useAddOptimistic(queryKey)\n  );\n};\n\nexport const useDeleteEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n\n  return useMutation(\n    ({ id }: { id: number }) =>\n      client(`epics/${id}`, {\n        method: \"DELETE\",\n      }),\n    useDeleteOptimistic(queryKey)\n  );\n};\n"]},"metadata":{},"sourceType":"module"}